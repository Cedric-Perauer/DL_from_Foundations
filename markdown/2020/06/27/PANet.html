<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>PANet Paper Summary | fastpages</title>
<meta name="generator" content="Jekyll v4.0.0" />
<meta property="og:title" content="PANet Paper Summary" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="A summary of PANet, Path Aggregation Net for Instance Segmentation" />
<meta property="og:description" content="A summary of PANet, Path Aggregation Net for Instance Segmentation" />
<link rel="canonical" href="https://cedric-perauer.github.io/DL_from_Foundations/markdown/2020/06/27/PANet.html" />
<meta property="og:url" content="https://cedric-perauer.github.io/DL_from_Foundations/markdown/2020/06/27/PANet.html" />
<meta property="og:site_name" content="fastpages" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-06-27T00:00:00-05:00" />
<script type="application/ld+json">
{"datePublished":"2020-06-27T00:00:00-05:00","headline":"PANet Paper Summary","description":"A summary of PANet, Path Aggregation Net for Instance Segmentation","mainEntityOfPage":{"@type":"WebPage","@id":"https://cedric-perauer.github.io/DL_from_Foundations/markdown/2020/06/27/PANet.html"},"@type":"BlogPosting","url":"https://cedric-perauer.github.io/DL_from_Foundations/markdown/2020/06/27/PANet.html","dateModified":"2020-06-27T00:00:00-05:00","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/DL_from_Foundations/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="https://cedric-perauer.github.io/DL_from_Foundations/feed.xml" title="fastpages" /><link rel="shortcut icon" type="image/x-icon" href="/DL_from_Foundations/images/favicon.ico"><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>PANet Paper Summary | fastpages</title>
<meta name="generator" content="Jekyll v4.0.0" />
<meta property="og:title" content="PANet Paper Summary" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="A summary of PANet, Path Aggregation Net for Instance Segmentation" />
<meta property="og:description" content="A summary of PANet, Path Aggregation Net for Instance Segmentation" />
<link rel="canonical" href="https://cedric-perauer.github.io/DL_from_Foundations/markdown/2020/06/27/PANet.html" />
<meta property="og:url" content="https://cedric-perauer.github.io/DL_from_Foundations/markdown/2020/06/27/PANet.html" />
<meta property="og:site_name" content="fastpages" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-06-27T00:00:00-05:00" />
<script type="application/ld+json">
{"datePublished":"2020-06-27T00:00:00-05:00","headline":"PANet Paper Summary","description":"A summary of PANet, Path Aggregation Net for Instance Segmentation","mainEntityOfPage":{"@type":"WebPage","@id":"https://cedric-perauer.github.io/DL_from_Foundations/markdown/2020/06/27/PANet.html"},"@type":"BlogPosting","url":"https://cedric-perauer.github.io/DL_from_Foundations/markdown/2020/06/27/PANet.html","dateModified":"2020-06-27T00:00:00-05:00","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

<link href="https://unpkg.com/@primer/css/dist/primer.css" rel="stylesheet" />
<link rel="stylesheet" href="//use.fontawesome.com/releases/v5.0.7/css/all.css"><link type="application/atom+xml" rel="alternate" href="https://cedric-perauer.github.io/DL_from_Foundations/feed.xml" title="fastpages" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css" integrity="sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/+DiW/UqRcLbRjq" crossorigin="anonymous">
    <script type="text/javascript" async src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML"> </script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js" integrity="sha384-y23I5Q6l+B6vatafAwxRu/0oK/79VlbSz7Q9aiSZUvyWYIYsd+qj+o24G5ZU2zJz" crossorigin="anonymous"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js" integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI" crossorigin="anonymous"></script>
    <script>
    document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement( document.body, {
        delimiters: [
            {left: "$$", right: "$$", display: true},
            {left: "[%", right: "%]", display: true},
            {left: "$", right: "$", display: false}
        ]}
        );
    });
    </script>


<script>
function wrap_img(fn) {
    if (document.attachEvent ? document.readyState === "complete" : document.readyState !== "loading") {
        var elements = document.querySelectorAll(".post img");
        Array.prototype.forEach.call(elements, function(el, i) {
            if (el.getAttribute("title")) {
                const caption = document.createElement('figcaption');
                var node = document.createTextNode(el.getAttribute("title"));
                caption.appendChild(node);
                const wrapper = document.createElement('figure');
                wrapper.className = 'image';
                el.parentNode.insertBefore(wrapper, el);
                el.parentNode.removeChild(el);
                wrapper.appendChild(el);
                wrapper.appendChild(caption);
            }
        });
    } else { document.addEventListener('DOMContentLoaded', fn); }
}
window.onload = wrap_img;
</script>

<script>
    document.addEventListener("DOMContentLoaded", function(){
    // add link icon to anchor tags
    var elem = document.querySelectorAll(".anchor-link")
    elem.forEach(e => (e.innerHTML = '<i class="fas fa-link fa-xs"></i>'));
    });
</script>
</head><body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/DL_from_Foundations/">fastpages</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/DL_from_Foundations/search/">Search</a><a class="page-link" href="/DL_from_Foundations/categories/">Tags</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">PANet Paper Summary</h1><p class="page-description">A summary of PANet, Path Aggregation Net for Instance Segmentation</p><p class="post-meta post-meta-title"><time class="dt-published" datetime="2020-06-27T00:00:00-05:00" itemprop="datePublished">
        Jun 27, 2020
      </time>
       • <span class="read-time" title="Estimated read time">
    
    
      4 min read
    
</span></p>

    
      <p class="category-tags"><i class="fas fa-tags category-tags-icon"></i></i> 
      
        <a class="category-tags-link" href="/DL_from_Foundations/categories/#markdown">markdown</a>
        
      
      </p>
    

    </header>

  <div class="post-content e-content" itemprop="articleBody">
    <ul class="section-nav">
<li class="toc-entry toc-h2"><a href="#panet-paper-summary">PANet Paper Summary</a>
<ul>
<li class="toc-entry toc-h3"><a href="#what-did-the-authors-want-to-achieve-">What did the authors want to achieve ?</a></li>
<li class="toc-entry toc-h3"><a href="#methods-used">Methods used</a>
<ul>
<li class="toc-entry toc-h4"><a href="#findings">Findings</a></li>
<li class="toc-entry toc-h4"><a href="#contributions">Contributions</a></li>
<li class="toc-entry toc-h4"><a href="#framework">Framework</a></li>
</ul>
</li>
</ul>
</li>
</ul><h2 id="panet-paper-summary">
<a class="anchor" href="#panet-paper-summary" aria-hidden="true"><span class="octicon octicon-link"></span></a>PANet Paper Summary</h2>

<h3 id="what-did-the-authors-want-to-achieve-">
<a class="anchor" href="#what-did-the-authors-want-to-achieve-" aria-hidden="true"><span class="octicon octicon-link"></span></a>What did the authors want to achieve ?</h3>

<p><img src="https://Cedric-Perauer.github.io/DL_from_Foundations/images/PAN.png" alt="images"></p>

<ul>
  <li>improve Computer Vision tasks object detection and mainly instance segmentation</li>
  <li>build on top of Fast/ Faster /Mask RCNN and improve info propagation</li>
  <li>design an architecture that can deal with blurry and heavy occlusion of the new datasets back then (2018) , like COCO 2017</li>
  <li>use in-net feature hierarchy : top down path with lateral connections is augmented to emphasize strong sementical features</li>
</ul>

<h3 id="methods-used">
<a class="anchor" href="#methods-used" aria-hidden="true"><span class="octicon octicon-link"></span></a>Methods used</h3>
<h4 id="findings">
<a class="anchor" href="#findings" aria-hidden="true"><span class="octicon octicon-link"></span></a>Findings</h4>
<ul>
  <li>Mask RCNN : long path from low-level to topmost features, which makes it difficult to access localization information</li>
  <li>Mask RCNN : only single view, multi view preferd to gather diverse information</li>
  <li>Mask RCNN : predictions based on pooled feature grides that are assigned heuristically, can be updated since lower level info can be important for final prediction</li>
</ul>

<h4 id="contributions">
<a class="anchor" href="#contributions" aria-hidden="true"><span class="octicon octicon-link"></span></a>Contributions</h4>
<ul>
  <li>PANet is proposed for instance segementation</li>
  <li>1) bottom-up path augmentation to shorten information path and improve feature pyramid with accurate low-level information 
=&gt; new : propagate low-level features to enhance the feature hierarchy for instance recogniton</li>
  <li>2) Adaptive feature pooling is introduced to recover broken information between each proposal and all feature levels</li>
  <li>3) for multi view : augmentation of mask prediction with small fc layers : more diverse info, masks have better quality</li>
  <li>1) &amp; 2) are both used for detection and segmentation and lead to improvements of both tasks</li>
</ul>

<h4 id="framework">
<a class="anchor" href="#framework" aria-hidden="true"><span class="octicon octicon-link"></span></a>Framework</h4>

<p><img src="https://Cedric-Perauer.github.io/DL_from_Foundations/images/bottom_up.png" alt="images"></p>

<p>Bottom-up Path Augmentation</p>
<ul>
  <li>Intuition : bottom up is augmented to easily propagate lower layers</li>
  <li>We know that high layers respond to whole objects, lower layers to fine features</li>
  <li>Localization can be enhanced with top-down paths (FPN)</li>
  <li>Here a path from low levels to higher ones is built, based on higher layers respose to edges and instance parts which helps localization error</li>
  <li>Approach follow FPN, also using ResNet : layers with same spatial size are in same feature space (b) in figure 1)</li>
  <li>As shown in figure 2), each feature map takes a higher resolution feature map $N_{i}$ and a coarser map $P_{i+1}$ and generates a new one using a 3x3 conv with stride 2 for size reduction on each $N_{i}$ map. After that each element of $P_{i+1}$ and the down sampled map are added using lateral connection. The fused map is convoluted using another 3x3 kernel to generate $N_{i+1}$, the whole process is iterated until $P_{5}$ is reached. All convs are followed by a ReLU.</li>
  <li>up to 0.9 mAP improvement with large input sizes</li>
</ul>

<p><img src="https://Cedric-Perauer.github.io/DL_from_Foundations/images/mask_pred_pan.png" alt="images"></p>

<p>Adaptive Feature Pooling</p>
<ul>
  <li>Idea : Adapative feature pooling allows each propsal to access info from all levels</li>
  <li>In FPN, small proposals are assigned to low level features and high proposals to higher level ones . This can be non-optimal, as e.g. 2 examples with 10-pixel difference can be assigned to different levels even though they are rather similar. Also features may not correlate strongly with the layer they belong to.</li>
  <li>High-level features have a larger receptive field and a more global context, whereas lower ones have fine details and high-localization accuracy. Therefore pooling from all levels and all proposals is fused for prediction. The authors call it adaptive feature pooling. For fusion max operations are used. For each level a ratio of kept features is calculated, surprisingly almost 70% are from other higher levels. The findings show that, features from multi levels together are helpful for accurate prediction. An intuition that is similar to DenseNet.This also supports bottom-up augmentation.</li>
  <li>The exact process can be seen in figure 1 c), at first each proposal is mapped to different feature levels. Then ROIAlign is used to pool grids from each level. After that fusion of feature grids from different levels is performed using an element-wise max or sum. The focus is on in net feature hierarchy, instead of using different levels from image pyramids. It is comparable to L2 norm, where concat and dimension reduction are used.</li>
</ul>

<p>Fully Connected Fusion</p>
<ul>
  <li>Results have shown that MLP is also useful for pixelwise mask prediction. FC layers have different properties compared to FCN, FCN shares parameters and predicts based on local receptifve field. FC layers are localy sensitive since they do not use param sharing. They can adapt to different spatial locations. Using these ideas, it is helpful to differentiate parts in an image and use this information by fusing them.</li>
  <li>Mask branch operates on pooled features and mainly consists of a FCN net with 4 conv (each 3x3 with 256 filters) and 1 deconv layer (upsample by 2). A shortcut from layer conv3 to fc is also implemented. The fc layer predicts a class agnostic foreground/background mask. It’s efficient and allows for better generality.</li>
  <li>up to 0.7 mAP improvement for all scales</li>
</ul>

<p>Others</p>
<ul>
  <li>MultiGPU Sync Batch Norm</li>
  <li>Heavier head : effective for box AP</li>
  <li>multi scale training</li>
</ul>

<p>Total improvement in AP is 4.4 over baseline, half of it is due to Synch BN and multi scale training</p>

<p>Results</p>
<ul>
  <li>Ablation study was done for architecture design</li>
  <li>Winner of 2017 COCO Segmentation, SOTA performance in segmentation (Cityscapes) and detection</li>
</ul>


  </div><a class="u-url" href="/DL_from_Foundations/markdown/2020/06/27/PANet.html" hidden></a>
</article>
      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/DL_from_Foundations/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
        <p class="feed-subscribe">
          <a href="/DL_from_Foundations/feed.xml">
            <svg class="svg-icon orange">
              <use xlink:href="/DL_from_Foundations/assets/minima-social-icons.svg#rss"></use>
            </svg><span>Subscribe</span>
          </a>
        </p>
      </div>
      <div class="footer-col">
        <p>An easy to use blogging platform with support for Jupyter Notebooks.</p>
      </div>
    </div>

    <div class="social-links"><ul class="social-media-list"><li><a rel="me" href="https://github.com/Cedric-Perauer" title="Cedric-Perauer"><svg class="svg-icon grey"><use xlink:href="/DL_from_Foundations/assets/minima-social-icons.svg#github"></use></svg></a></li><li><a rel="me" href="https://twitter.com/fastdotai" title="fastdotai"><svg class="svg-icon grey"><use xlink:href="/DL_from_Foundations/assets/minima-social-icons.svg#twitter"></use></svg></a></li></ul>
</div>

  </div>

</footer>
</body>

</html>
